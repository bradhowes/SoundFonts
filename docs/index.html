<!DOCTYPE html>
<html lang="en">
  <head>
    <title>  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html"> Docs</a> (55% documented)</p>
        <p class="header-right"><a href="https://github.com/bradhowes/SoundFonts"><img src="img/gh.png"/>View on GitHub</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html"> Reference</a>
        <img id="carat" src="img/carat.png" />
          Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/AppDelegate.html">AppDelegate</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Favorite.html">Favorite</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/FavoriteCell.html">FavoriteCell</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/FavoriteCollection.html">FavoriteCollection</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/FavoriteDetailController.html">FavoriteDetailController</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/FavoriteMover.html">FavoriteMover</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/FavoritesViewController.html">FavoritesViewController</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/FontCell.html">FontCell</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/FontPatchCellBase.html">FontPatchCellBase</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/FontsTableViewDataSource.html">FontsTableViewDataSource</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/InfoBarController.html">InfoBarController</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Key.html">Key</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/KeyboardController.html">KeyboardController</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/KeyboardRender.html">KeyboardRender</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/MainViewController.html">MainViewController</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/NotifierToken.html">NotifierToken</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Patch.html">Patch</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Patch/MidiBankType.html">– MidiBankType</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/PatchCell.html">PatchCell</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/PatchSearchManager.html">PatchSearchManager</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/PatchesTableViewDataSource.html">PatchesTableViewDataSource</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/RunContext.html">RunContext</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Sampler.html">Sampler</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SettingKey.html">SettingKey</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SettingKeys.html">SettingKeys</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SoundFont.html">SoundFont</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SoundFontsViewController.html">SoundFontsViewController</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/UpperViewSlider.html">UpperViewSlider</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Global Variables.html">Global Variables</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Global Variables.html#/s:10SoundFonts18FluidR3GMSoundFontAA0aF0Cvp">FluidR3GMSoundFont</a>
              </li>
              <li class="nav-group-task">
                <a href="Global Variables.html#/s:10SoundFonts015FreeFontGMVer32aD0AA0aD0Cvp">FreeFontGMVer32SoundFont</a>
              </li>
              <li class="nav-group-task">
                <a href="Global Variables.html#/s:10SoundFonts033GeneralUserGSMuseScoreversion1442A4FontAA0aG0Cvp">GeneralUserGSMuseScoreversion1442SoundFont</a>
              </li>
              <li class="nav-group-task">
                <a href="Global Variables.html#/s:10SoundFonts8SettingsSo14NSUserDefaultsCvp">Settings</a>
              </li>
              <li class="nav-group-task">
                <a href="Global Variables.html#/s:10SoundFonts08UserBankA4FontAA0aE0Cvp">UserBankSoundFont</a>
              </li>
              <li class="nav-group-task">
                <a href="Global Variables.html#/s:10SoundFonts10runContextAA03RunD0Cvp">runContext</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/FavoriteChangeKind.html">FavoriteChangeKind</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/FavoriteDetailControllerDismissedReason.html">FavoriteDetailControllerDismissedReason</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/InfoBarEvent.html">InfoBarEvent</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Extensions/Bool.html">Bool</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/Data.html">Data</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/Double.html">Double</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/Int.html">Int</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/String.html">String</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/UIAlertController.html">UIAlertController</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/UICollectionView.html">UICollectionView</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/UIColor.html">UIColor</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/UISearchBar.html">UISearchBar</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/UITableView.html">UITableView</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/UIView.html">UIView</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/UIWindow.html">UIWindow</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/UserDefaults.html">UserDefaults</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Protocols/ActivePatchManager.html">ActivePatchManager</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/ActiveSoundFontManager.html">ActiveSoundFontManager</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/ControllerConfiguration.html">ControllerConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/FavoriteDetailControllerDelegate.html">FavoriteDetailControllerDelegate</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/FavoritesManager.html">FavoritesManager</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/InfoBarManager.html">InfoBarManager</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/KeyboardManager.html">KeyboardManager</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/KeyboardManagerDelegate.html">KeyboardManagerDelegate</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/NibLoadableView.html">NibLoadableView</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/PatchSearchManagerDelegate.html">PatchSearchManagerDelegate</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/ReusableView.html">ReusableView</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/SettingGettable.html">SettingGettable</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/SettingSettable.html">SettingSettable</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Structs/Note.html">Note</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/UpperViewManager.html">UpperViewManager</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Typealiases.html">Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Typealiases.html#/s:10SoundFonts19SettingSerializablea">SettingSerializable</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <p><img src="https://github.com/bradhowes/SoundFonts/blob/master/image.gif?raw=true" alt=""></p>

<p>This is a very simple iOS application that acts as a polyphonic synthesizer. It uses an <code>AVAudioUnitSampler</code>
instance to generate the sounds for touched keys. The sounds that are avaiable come from <em>sound font</em> files such
as those available <a href="http://www.synthfont.com/links_to_soundfonts.html">online</a> for free (and of variable
quaility). This app only supports sound font files that are bundled with the application, though it would be
nice to remotely fetch one to try it out.</p>
<h2 id='user-interface' class='heading'>User Interface</h2>

<p>Apologies in advance for the state of the UI. Here is what you can do with it:</p>

<ul>
<li>Switch between the patches view (image above) and a <em>favorites</em> view (see below) by swiping left/right on the
black bar above the keyboard</li>
<li>You can touch the labels at either end of the black bar to change the range of the keyboard. In the image
above, the first key is at <q>C4</q> and the last key shown is <q>G5</q>. You can go as low as <q>C0</q> and as high as <q>C9</q>.
(You can also perform a two-finger pan gesture on the left or right on the black bar to adjust the keyboard
range.)</li>
<li>Swipe right on a patch name to make it a favorite (same to unfavorite). Favorited patches have a star next to
their name.</li>
</ul>
<h2 id='favorites' class='heading'>Favorites</h2>

<p>The favorites view shows all of the patches that have been <q>faved</q> or <q>starred</q>. Pressing on a favorite will
make its associated patch active. You can also configure the starting key of the keyboard in the favorite as
well as gain and stereo pan settings that will apply when the favorite is touched. To edit a favorite,
long-press on the it and you should see an edit view:</p>

<p><img src="https://github.com/bradhowes/SoundFonts/blob/master/FavoriteDetail.png?raw=true" alt=""></p>

<p>Nothing fancy. Note that the <em>gain</em> is not exactly like a volume. By default, it will be at 0.0 which means that
there is no gain applied to the synthesizer output. Positive values (max +12) will boost the signal, while
negative values (min -90) will reduce it. Note that these are the min/max values supported by the
<code>AVAudioUnitSampler</code>.</p>

<p>The <em>pan</em> value is normally at 0.0. Moving to -1.0 should place the output entirely in the left speaker, while a
+1.0 will place it all in the right.</p>
<h2 id='dependencies' class='heading'>Dependencies</h2>

<p>There are no external dependencies. I wrote the code in Xcode 10.1, targeting iOS 12.1.</p>

<p>The keys of the keyboard are painted by the code found in <code>KeyboardRender.swift</code>. This was generated by the
<a href="https://www.paintcodeapp.com">PaintCode</a> application. The PaintCode file is <code>Keyboard.pcvd</code>, but it is not part
of the build process and PaintCode is not necessary to build.</p>
<h2 id='sound-fonts' class='heading'>Sound Fonts</h2>

<p>The repository comes with four SoundFont files, though the largest one &ndash; <code>FluidR3_GM</code> &ndash; is too large to store
natively on Github so it has been broken into three files: <code>FluidR3_GM.sf2.1</code>, <code>FluidR3_GM.sf2.2</code>, and
<code>FluidR3_GM.sf2.3</code>. To make the<code>FluidR3\_GM</code> file, you will need to run a simple Bash script &ndash; <code>FluidR3\_GM.sh</code>
&ndash; like so:</p>
<pre class="highlight plaintext"><code>% ./FluidR3_GM.sh
</code></pre>

<p>There is also a simple Python script called <code>catalog.py</code> which will generate a SoundFont catalog in Swift. Each
<code>*.sf2</code> that is in the
<a href="https://github.com/bradhowes/SoundFonts/tree/master/SoundFonts/MIDI/SoundFonts">./SoundFonts</a> directory
will get its own <code>*.swift</code> file with its own <code><a href="Classes/SoundFont.html">SoundFont</a></code> instance that describes all of the patches or presets
that were found in the <code>*.sf2</code> file. If you add a new SoundFont file to this directory, you will also need to
add it to the Xcode project so that it gets installed in the iOS application bundle. You will also need to add
the generated <code>*.swift</code> file as well so that the application knows what presets are available in the SoundFont
file.</p>

<p>The <code>catalog.py</code> script uses the <a href="https://pypi.org/project/sf2utils/">sf2utils</a> package to perform the Soundfont
parsing.</p>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2019 <a class="link" href="https://linkedin.com/in/bradhowes" target="_blank" rel="external">Brad Howes</a>. All rights reserved. (Last updated: 2019-02-18)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.9.3</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
